---
import { getAssetURL } from "@utils/getImage";
import { getFooter, getGlobal } from "src/lib/getPageData";

const footer = await getFooter();
let { pageUrl } = Astro.props;
const global = await getGlobal();
---

<footer class="bg-[#f7f7f7] text-dark py-12 lg:py-16">
  <div class="custom-container mx-auto flex flex-wrap justify-between">
    <!-- Logo -->
    <div class="w-full flex justify-center mb-6">
      {
        !["cold-storage-containers", "thank-you-coolers"].includes(pageUrl) ? (
          <img
            src={getAssetURL(global.logo)}
            alt="Logo"
            class="h-24 object-contain"
          />
        ) : (
          <img
            src={getAssetURL(global.ice_logo || global.logo)}
            alt="Logo"
            class="h-24 object-contain"
          />
        )
      }
    </div>

    <!-- Footer Columns -->
    <div
      class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 w-full my-14 items-start gap-8"
    >
      {
        footer.footer_items.map((section) => (
          <div class="w-full mb-6">
            <h3 class="text-lg font-semibold">
              {section.footer_item_id.title}
            </h3>
            <ul class="mt-2 space-y-2">
              {section.footer_item_id.links.map((link) => (
                <li>
                  <a href={link.link} class="text-dark hover:text-primary">
                    {link.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>

    <!-- Legal Links -->
    <div class="flex justify-center md:flex-row flex-col w-full gap-4">
      {
        footer.legal_links.map((item) => (
          <a href={item.link} class="text-dark text-xs hover:text-primary">
            {item.title}
          </a>
        ))
      }
    </div>

    <!-- Copyright -->
    <div class="w-full text-center text-sm mt-6 text-dark">
      <p set:html={footer.copyright_description} />
    </div>
  </div>
</footer>
