---
import HowPodsWorks from "@components/sections/HowPodsWorks.astro";
import MainHero from "@components/sections/MainHero.astro";
import ReviewsSlider from "@components/sections/ReviewsSlider.astro";
import FeaturedImage from "@components/ui/FeaturedImage.astro";
import Faqs from "@components/sections/Faq.astro";
import Layout from "@layouts/Layout.astro";
import { getEntry } from "astro:content";
import Masonry from "@components/sections/Masonry.astro";
import SingleHero from "@components/sections/SingleHero.astro";
import Cards from "@components/sections/Cards.astro";
import ProtectionConvenience from "@components/sections/ProtectionConvenience.astro";
import StorageOptions from "@components/sections/StorageOptions.astro";
import TwoCol from "@components/sections/TwoCol.astro";
import FindYouFit from "@components/sections/FindYouFit.astro";

const homePage = await getEntry("pages", "home");
---

<Layout
  title={homePage.data.seoData.seoTitle}
  description={homePage.data.seoData.seoDescription}
>
  {
    homePage?.data.blocks.map((item: any) => (
      <>
        {item.discriminant === "mainHero" && <MainHero {...item.value} />}
        {item.discriminant === "howPodsWork" && (
          <HowPodsWorks {...item.value} />
        )}
        {item.discriminant === "featuredImage" && (
          <FeaturedImage {...item.value} />
        )}
        {item.discriminant === "reviewsSlider" && (
          <ReviewsSlider {...item.value} />
        )}
        {item.discriminant === "faqs" && <Faqs {...item.value} />}
        {item.discriminant === "masonaryGallery" && <Masonry {...item.value} />}
        {item.discriminant === "findYouFit" && <FindYouFit {...item.value} />}
        {item.discriminant === "singleHero" && <SingleHero {...item.value} />}
        {item.discriminant === "storageOptions" && (
          <StorageOptions {...item.value} />
        )}
        {item.discriminant === "protectionConvenience" && (
          <ProtectionConvenience {...item.value} />
        )}
        {item.discriminant === "twoCol" && <TwoCol {...item.value} />}
        {item.discriminant === "cards" && <Cards {...item.value} />}
      </>
    ))
  }
</Layout>
